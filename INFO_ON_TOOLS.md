
* ✅ ChromaDB vs Redis: 역할 차이

| 항목          | ChromaDB                   | Redis                      |
| ----------- | -------------------------- | -------------------------- |
| **주용도**     | 문서 검색용 벡터 DB (RAG용)        | 세션/임시 데이터 저장용              |
| **데이터 형태**  | 벡터+메타데이터                   | Key-Value (문자열, 리스트, 해시 등) |
| **지속성**     | 영속적 (persist 설정시)          | 디스크 저장 가능하나 기본은 in-memory  |
| **검색기능**    | 벡터 유사도 기반 검색               | 키 기반 검색만 가능                |
| **적합한 데이터** | 문서 chunk, embedding, 문서 ID | 세션 기록, 유저 상태, 캐시 등         |

---

## ⏱️ FastAPI 스케줄러 비교표

| 스케줄러        | 특징                                       | 장점                                              | 단점                             | 추천 상황                         |
|------------------|--------------------------------------------|---------------------------------------------------|----------------------------------|----------------------------------|
| APScheduler      | 파이썬 전용 스케줄러 라이브러리            | - 다양한 트리거 (`interval`, `cron`, `date`)<br>- 백그라운드 실행 가능 | - 분산 처리 기능 없음            | ✅ 단일 서버의 간단 주기 작업       |
| Celery + Beat    | 분산 작업 큐 + 주기 실행기                 | - 대규모 병렬 작업에 적합<br>- 강력한 에러 핸들링 | - 복잡한 설정<br>- 브로커 필요   | ✅ 분산 처리, 대용량 작업          |
| RQ + RQ Scheduler| Redis 기반의 간단 큐 + 스케줄링            | - Celery보다 단순<br>- Redis로 구성 가능         | - 기능이 제한적                 | ✅ Redis 환경 + 경량 스케줄 처리  |
| asyncio + sleep  | 순수 파이썬의 비동기 루프 활용             | - 별도 라이브러리 불필요<br>- FastAPI에 직접 연동 | - 복잡한 job 관리 어려움         | ✅ 매우 단순한 주기 작업            |

## 🛠 APScheduler (Advanced Python Scheduler)

### 📌 개요
APScheduler는 파이썬용 고급 스케줄러 라이브러리로, 다양한 방식으로 작업을 예약하고 실행할 수 있으며 FastAPI와 잘 결합됩니다.

---

### ✅ 지원하는 트리거 (스케줄링 방식)

| 트리거 종류 | 설명 |
|------------|------|
| `interval` | 일정 간격마다 실행 (ex. 10초마다, 1시간마다) |
| `cron`     | 리눅스 cron처럼 시간/요일/월 지정 실행 |
| `date`     | 특정 시점에 1회만 실행 |

---

### ⚙ 주요 기능
- add_job(): 작업 등록 (id, trigger, args, kwargs 등)
- remove_job(job_id): 작업 제거
- pause_job() / resume_job() / modify_job() 등 Job 제어 가능
- Job store (예: DB, Redis)에 저장 가능 (선택적 설정)

### 🧠 유의사항
- FastAPI 서버와 함께 실행되므로 BackgroundScheduler 권장
- shutdown 시 .shutdown() 호출 필요
- 비동기 작업은 별도 설정 필요 (AsyncIOScheduler 사용)

* 공식 문서: https://apscheduler.readthedocs.io
